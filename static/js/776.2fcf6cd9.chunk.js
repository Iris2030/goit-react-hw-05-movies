"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[776],{776:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(683),i=n(152),c=n(791),u=n(871),s=n(504),a=n(562),o=n.n(a),h=n(341),l=n(184);function f(){var e=(0,c.useState)(""),t=(0,i.Z)(e,2),n=t[0],a=t[1],f=(0,c.useState)(),m=(0,i.Z)(f,2),v=m[0],d=m[1],g=(0,u.TH)(),p=(0,u.s0)();return(0,c.useEffect)((function(){g.search&&(0,h.I2)(g.search.split("=")[1]).then((function(e){d(e),e&&0===e.results.length&&o().Notify.failure("No movies matches search query")})).catch((function(e){return alert(e)}))}),[g.search]),(0,l.jsxs)("div",{children:[(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d("");var t=n.trim();t?((0,h.I2)(t).then((function(e){d(e),e&&0===e.results.length&&o().Notify.failure("No movies matches search query")})).catch((function(e){return alert(e)})),p((0,r.Z)((0,r.Z)({},g),{},{search:"query=".concat(n)}))):o().Notify.failure("Enter something")},children:[(0,l.jsx)("input",{minLength:"2",value:n,onChange:function(e){a(e.target.value)}}),(0,l.jsx)("button",{children:"Search"})]}),(0,l.jsx)("ul",{children:v&&v.results.map((function(e){return(0,l.jsx)(s.rU,{to:{pathname:"/movies/".concat(e.id)},children:(0,l.jsx)("li",{children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=776.2fcf6cd9.chunk.js.map